import React from 'react';
import TrapImage from './images/noun_item_trap_2360148.png';
import BombImage from './images/noun_Bomb_3821295.png';
import MineImage from './images/noun_sea mines_943177.png';
import FishImage from './images/noun_piranha_28044.png';
import GopherImage from './images/noun_mole_1221064.png';
import MissileImage from './images/noun_Bomb_2726815.png';
import FlagImage from './images/noun_Flag_1711255.png';
import HighlightImage from './images/highlight.png';

import FenceImage from './images/fence.png';
import FenceEndLeftImage from './images/fence_end_left.png';
import FenceEndRightImage from './images/fence_end_right.png';
import GrassImage from './images/grass.png';
import Grass3Image from './images/grass3.png';
import WildGrassImage from './images/wildgrass.png';
import WildGrass2Image from './images/wildgrass2.png';
import StumpImage from './images/stump.png';
import BushImage from './images/bush.png';
import DirtImage from './images/dirt.png';
import Dirt2Image from './images/dirt2.png';
import RockImage from './images/rock.png';
import Rock2Image from './images/rock2.png';
import Rock3Image from './images/rock3.png';
import TREE_UL from './images/tree_ul.png';
import TREE_UR from './images/tree_ur.png';
import TREE_L from './images/tree_l.png';
import TREE_R from './images/tree_r.png';
import TREE_BL from './images/tree_bl.png';
import TREE_BR from './images/tree_br.png';

import CARPET_UL from './images/carpet_ul.png';
import CARPET_U from './images/carpet_u.png';
import CARPET_UR from './images/carpet_ur.png';
import CARPET_L from './images/carpet_l.png';
import CARPET_C from './images/carpet_c.png';
import CARPET_C2 from './images/carpet_c2.png';
import CARPET_R from './images/carpet_r.png';
import CARPET_BL from './images/carpet_bl.png';
import CARPET_B from './images/carpet_b.png';
import CARPET_BR from './images/carpet_br.png';
import FloorImage from './images/floor.png';
import WALL_U from './images/wall_u.png';
import WALL_B from './images/wall_b.png';
import WALL_C from './images/wall_c.png';

import BED_UL from './images/bed_ul.png';
import BED_UR from './images/bed_ur.png';
import BED_L from './images/bed_l.png';
import BED_R from './images/bed_r.png';
import BED_BL from './images/bed_bl.png';
import BED_BR from './images/bed_br.png';
import PictureImage from './images/picture.png';
import PottedPlantImage from './images/potted_plant.png';
import CASE_U from './images/case_u.png';
import CASE_B from './images/case_b.png';
import CASE_C from './images/case_c.png';

import HOUSE_UL from './images/house_ul.png';
import HOUSE_U from './images/house_u.png';
import HOUSE_UR from './images/house_ur.png';
import HOUSE_L from './images/house_l.png';
import HOUSE_C from './images/house_c.png';
import HOUSE_R from './images/house_r.png';
import HOUSE_BL from './images/house_bl.png';
import HOUSE_B from './images/house_b.png';
import HOUSE_BR from './images/house_br.png';
import FullBucketImage from './images/full_bucket.png';
import BucketImage from './images/bucket.png';
import SignImage from './images/sign.png';
import SmallYellowTreeImage from './images/small_yellow_tree.png';

import WaterImage from './images/water.png';
import Water2Image from './images/water2.png';
import AnimatedWaterImage from './images/animated_water.gif';
import LeftBankImage from './images/left_bank_grass.png';
import RightBankImage from './images/right_bank_grass.png';
import TopBankImage from './images/top_bank_grass.png';
import BottomBankImage from './images/bottom_bank_grass.png';
import BottomRightBankImage from './images/bottom_right_bank.png';
import BottomLeftBankImage from './images/bottom_left_bank.png';
import TopLeftBankImage from './images/top_left_bank.png';
import TopRightBankImage from './images/top_right_bank.png';
import BottomLeftRightBankImage from './images/bottom_left_right_bank.png';
import TopRightBottomBankImage from './images/top_right_bottom_bank.png';
import WATERFALL_UL from './images/waterfall_ul.png';
import WATERFALL_UR from './images/waterfall_ur.png';
import WATERFALL_BL from './images/waterfall_bl.png';
import WATERFALL_BR from './images/waterfall_br.png';
import WATERCLIFF_UR from './images/water_cliff_ur.png';
import WATERCLIFF_BR from './images/water_cliff_br.png';
import WATERCLIFF_UL from './images/water_cliff_ul.png';
import WATERCLIFF_BL from './images/water_cliff_bl.png';
import WaterRockImage from './images/waterrock.png';
import WaterRock2Image from './images/waterrock2.png';
import Bridge from './images/bridge.png';
import WaterRockInWaterImage from './images/water_rock_in_water.png';

import FieldImage from './images/field.png';
import Field2Image from './images/field2.png';
import FruitTreeImage from './images/fruit-trees.png';
import BerriesImage from './images/berries.png';
import SproutsImage from './images/sprouts.png';
import DOGHOUSE_U from './images/doghouse_u.png';
import DOGHOUSE_B from './images/doghouse_b.png';
import Produce1Image from './images/produce1.png';
import Produce2Image from './images/produce2.png';
import FlowerImage from './images/flower.png';

import CobblestonesImage from './images/cobblestones.png';
import Cobblestones2Image from './images/cobblestones2.png';
import StatueU from './images/statue_u.png';
import StatueB from './images/statue_b.png';

import TOWER_01 from './images/tower/tower_01.png';
import TOWER_02 from './images/tower/tower_02.png';
import TOWER_03 from './images/tower/tower_03.png';
import TOWER_04 from './images/tower/tower_04.png';
import TOWER_05 from './images/tower/tower_05.png';
import TOWER_06 from './images/tower/tower_06.png';
import TOWER_07 from './images/tower/tower_07.png';
import TOWER_08 from './images/tower/tower_08.png';
import TOWER_09 from './images/tower/tower_09.png';
import TOWER_10 from './images/tower/tower_10.png';
import TOWER_11 from './images/tower/tower_11.png';
import TOWER_12 from './images/tower/tower_12.png';
import TOWER_13 from './images/tower/tower_13.png';
import TOWER_14 from './images/tower/tower_14.png';
import TOWER_15 from './images/tower/tower_15.png';
import TOWER_16 from './images/tower/tower_16.png';
import TOWER_17 from './images/tower/tower_17.png';
import TOWER_18 from './images/tower/tower_18.png';
import TOWER_19 from './images/tower/tower_19.png';
import TOWER_20 from './images/tower/tower_20.png';
import TOWER_21 from './images/tower/tower_21.png';
import TOWER_22 from './images/tower/tower_22.png';
import TOWER_23 from './images/tower/tower_23.png';
import TOWER_24 from './images/tower/tower_24.png';
import TOWER_25 from './images/tower/tower_25.png';
import TOWER_26 from './images/tower/tower_26.png';
import TOWER_27 from './images/tower/tower_27.png';
import TOWER_28 from './images/tower/tower_28.png';
import TOWER_29 from './images/tower/tower_29.png';
import TOWER_30 from './images/tower/tower_30.png';
import TOWER_31 from './images/tower/tower_31.png';
import TOWER_32 from './images/tower/tower_32.png';
import TOWER_33 from './images/tower/tower_33.png';
import BottomWaterOverlayImage from './images/bottom_water_overlay.png';
import BottomRightWaterOverlayImage from './images/bottom_right_water_overlay.png';

import CASTLE_WALL_U from './images/castle wall_u.png';
import CASTLE_WALL_B from './images/castle wall_b.png';
import CEILING_01 from './images/ceiling_01.png';
import CEILING_02 from './images/ceiling_02.png';
import CEILING_03 from './images/ceiling_03.png';
import CEILING_04 from './images/ceiling_04.png';
import CEILING_05 from './images/ceiling_05.png';
import CEILING_06 from './images/ceiling_06.png';
import PICTURE_01 from './images/picture_01.png';
import PICTURE_02 from './images/picture_02.png';
import PICTURE_03 from './images/picture_03.png';
import CANDALABRA_01 from './images/candalabra_01.png';
import CANDALABRA_02 from './images/candalabra_02.png';
import CANDALABRA_03 from './images/candalabra_03.png';
import WINDOW_U from './images/window_u.png';
import WINDOW_B from './images/window_b.png';
import PlanterImage from './images/planter.png';

import ShadowImage from './images/shadow.png';

import './Block.css';

export enum BLOCK_TYPES {
    DISPLAY,
    EMPTY,
    BOMB,
}

export interface BlockProps {
    type: BLOCK_TYPES;
    interactive: boolean;
    foregroundImage?: string;
    backgroundImage?: string;
    trapImage?: string;
    movingTrapImage?: string;
    bigTrapImage?: string;
    known?: boolean;
    flagged?: boolean;
    forcebomb?: boolean;
    row: number;
    column: number;
    neighborBombs: number;
    tiles?: any;
    moving?: boolean;
    big?: boolean;
    nearbig?: boolean;
    highlight?: boolean;
    onClick?: (e: any) => void;
    onRightClick?: (e: any) => void;
}

export default function Block(props: BlockProps): JSX.Element {
    let { type, known, onClick, onRightClick, flagged, neighborBombs, interactive, backgroundImage,
        foregroundImage, tiles, forcebomb, trapImage, moving, movingTrapImage, big, bigTrapImage, nearbig, highlight } = props;
    let numberColors = ['white', 'green', 'blue', 'orangered', 'darkred', 'indigo', 'purple', 'darkpurple', 'black', 'black'];
    let backgrounds = tiles || { EMPTY: 'dirt2', BOMB: 'dirt2', DISPLAY: 'grass', UNKNOWN: 'dirt' };
    let background = known ? backgrounds[BLOCK_TYPES[type]] : backgrounds["UNKNOWN"];
    background = backgroundImage ? BACKROUND_TILES(backgroundImage) : BACKROUND_TILES(background);
    const showbomb = (forcebomb || known) && type === BLOCK_TYPES.BOMB;
    const shownumber = known && type === BLOCK_TYPES.EMPTY && neighborBombs > 0;
    const showflag = !forcebomb && flagged && !known;
    const shownearbig = (nearbig && shownumber) || (big && showbomb);
    let onClickInternal = (interactive && onClick) || (() => null);
    let onRightClickInternal = (interactive && onRightClick) || (() => null);
    let border = interactive ? "1px solid rgba(200,200,200, 0.3)" : "";
    trapImage = moving ? movingTrapImage : trapImage;
    trapImage = big ? bigTrapImage : trapImage;
    return (
        <div
            style={{ backgroundImage:`url(${background})`, border: border }}
            className="block"
            onClick={() => onClickInternal(props)}
            onContextMenu={() => {onRightClickInternal(props);}}
        >
            {foregroundImage && <BlockImage image={foregroundImage} />}
            {showbomb && <img src={TRAPS(trapImage)} alt={`trap`} />}
            {showflag && <img src={FlagImage} alt={`flag`} />}
            {shownumber && <div className="blockText" style={{color:numberColors[neighborBombs]}}>{neighborBombs}</div>}
            {shownearbig && <div className="near-big-block"></div>}
            {highlight && <img src={HighlightImage} alt={`highlight`} />}
        </div>
    );
}

function TRAPS(trap: string | undefined) {
    switch (trap) {
        case 'bomb':
            return BombImage;
        case 'trap':
            return TrapImage;
        case 'mine':
            return MineImage;
        case 'fish':
            return FishImage;
        case 'gopher':
            return GopherImage;
        case 'missile':
            return MissileImage;
    }
    return TrapImage;
}

function BACKROUND_TILES(tile: string) {
    switch (tile) {
        case 'grass':
            return GrassImage;
        case 'grass3':
            return Grass3Image;
        case 'wildgrass':
            return WildGrassImage;
        case 'wildgrass2':
            return WildGrass2Image;
        case 'dirt':
            return DirtImage;
        case 'dirt2':
            return Dirt2Image;
        case 'path':
            return DirtImage;
        case 'carpet_ul':
            return CARPET_UL;
        case 'carpet_u':
            return CARPET_U;
        case 'carpet_ur':
            return CARPET_UR;
        case 'carpet_l':
            return CARPET_L;
        case 'carpet_c':
            return CARPET_C;
        case 'carpet_c2':
            return CARPET_C2;
        case 'carpet_r':
            return CARPET_R;
        case 'carpet_bl':
            return CARPET_BL;
        case 'carpet_b':
            return CARPET_B;
        case 'carpet_br':
            return CARPET_BR;
        case 'floor':
            return FloorImage;
        case 'wall_u':
            return WALL_U;
        case 'wall_b':
            return WALL_B;
        case 'wall_c':
            return WALL_C;
        case 'water':
            return WaterImage;
        case 'water2':
            return Water2Image;
        case 'animated-water':
            return AnimatedWaterImage;
        case 'left-bank':
            return LeftBankImage;
        case 'right-bank':
            return RightBankImage;
        case 'top-bank':
            return TopBankImage;
        case 'bottom-bank':
            return BottomBankImage;
        case 'top-left-bank':
            return TopLeftBankImage;
        case 'bottom-left-bank':
            return BottomLeftBankImage;
        case 'top-right-bank':
            return TopRightBankImage;
        case 'bottom-right-bank':
            return BottomRightBankImage;
        case 'top-right-bottom-bank':
            return TopRightBottomBankImage;
        case 'bottom-left-right-bank':
            return BottomLeftRightBankImage;
        case 'waterfall-ul':
            return WATERFALL_UL;
        case 'waterfall-ur':
            return WATERFALL_UR;
        case 'waterfall-bl':
            return WATERFALL_BL;
        case 'waterfall-br':
            return WATERFALL_BR;
        case 'watercliff-ur':
            return WATERCLIFF_UR;
        case 'watercliff-br':
            return WATERCLIFF_BR;
        case 'watercliff-ul':
            return WATERCLIFF_UL;
        case 'watercliff-bl':
            return WATERCLIFF_BL;
        case 'field':
            return FieldImage;
        case 'field2':
            return Field2Image;
        case 'cobblestones':
            return CobblestonesImage;
        case 'cobblestones2':
            return Cobblestones2Image;
        case 'castle-wall-u':
            return CASTLE_WALL_U;
        case 'castle-wall-b':
            return CASTLE_WALL_B;
        case 'ceiling-01':
            return CEILING_01;
        case 'ceiling-02':
            return CEILING_02;
        case 'ceiling-03':
            return CEILING_03;
        case 'ceiling-04':
            return CEILING_04;
        case 'ceiling-05':
            return CEILING_05;
        case 'ceiling-06':
            return CEILING_06;
        case "water-rock-in-water":
            return WaterRockInWaterImage;
    }
    return GrassImage;
}

export interface BlockImageProps {
    image: string;
}

function BlockImage(props: BlockImageProps): JSX.Element {
    let { image } = props;
    switch (image) {
        case 'stump':
            return <img src={StumpImage} alt={`here`} />;
        case 'rock':
            return <img src={RockImage} alt={`here`} />;
        case 'rock2':
            return <img src={Rock2Image} alt={`here`} />;
        case 'rock3':
            return <img src={Rock3Image} alt={`here`} />;
        case 'bush':
            return <img src={BushImage} alt={`here`} />;
        case 'fence':
            return <img src={FenceImage} alt={`here`} />;
        case 'fence-end-left':
            return <img src={FenceEndLeftImage} alt={`here`} />;
        case 'fence-end-right':
            return <img src={FenceEndRightImage} alt={`here`} />;
        case 'bed_ul':
            return <img src={BED_UL} alt={`here`} />;
        case 'bed_ur':
            return <img src={BED_UR} alt={`here`} />;
        case 'bed_l':
            return <img src={BED_L} alt={`here`} />;
        case 'bed_r':
            return <img src={BED_R} alt={`here`} />;
        case 'bed_bl':
            return <img src={BED_BL} alt={`here`} />;
        case 'bed_br':
            return <img src={BED_BR} alt={`here`} />;
        case 'shadow':
            return <img src={ShadowImage} alt={`here`} />;
        case 'picture':
            return <img src={PictureImage} alt={`here`} />;
        case 'case_u':
            return <img src={CASE_U} alt={`here`} />;
        case 'case_b':
            return <img src={CASE_B} alt={`here`} />;
        case 'case_c':
            return <img src={CASE_C} alt={`here`} />;
        case 'potted-plant':
            return <img src={PottedPlantImage} alt={`here`} />;
        case 'tree_ul':
            return <img src={TREE_UL} alt={`here`} />;
        case 'tree_ur':
            return <img src={TREE_UR} alt={`here`} />;
        case 'tree_l':
            return <img src={TREE_L} alt={`here`} />;
        case 'tree_r':
            return <img src={TREE_R} alt={`here`} />;
        case 'tree_bl':
            return <img src={TREE_BL} alt={`here`} />;
        case 'tree_br':
            return <img src={TREE_BR} alt={`here`} />;
        case 'house_ul':
            return <img src={HOUSE_UL} alt={`here`} />;
        case 'house_ur':
            return <img src={HOUSE_UR} alt={`here`} />;
        case 'house_l':
            return <img src={HOUSE_L} alt={`here`} />;
        case 'house_r':
            return <img src={HOUSE_R} alt={`here`} />;
        case 'house_bl':
            return <img src={HOUSE_BL} alt={`here`} />;
        case 'house_br':
            return <img src={HOUSE_BR} alt={`here`} />;
        case 'house_u':
            return <img src={HOUSE_U} alt={`here`} />;
        case 'house_b':
            return <img src={HOUSE_B} alt={`here`} />;
        case 'house_c':
            return <img src={HOUSE_C} alt={`here`} />;
        case 'full-bucket':
            return <img src={FullBucketImage} alt={`here`} />;
        case 'bucket':
            return <img src={BucketImage} alt={`here`} />;
        case 'sign':
            return <img src={SignImage} alt={`here`} />;
        case 'waterrock':
            return <img src={WaterRockImage} alt={`here`} />;
        case 'waterrock2':
            return <img src={WaterRock2Image} alt={`here`} />;
        case 'bridge':
            return <img src={Bridge} alt={`here`} />;
        case 'fruit-trees':
            return <img src={FruitTreeImage} alt={`here`} />;
        case 'berries':
            return <img src={BerriesImage} alt={`here`} />;
        case 'sprouts':
            return <img src={SproutsImage} alt={`here`} />;
        case 'doghouse_u':
            return <img src={DOGHOUSE_U} alt={`here`} />;
        case 'doghouse_b':
            return <img src={DOGHOUSE_B} alt={`here`} />;
        case 'produce1':
            return <img src={Produce1Image} alt={`here`} />;
        case 'produce2':
            return <img src={Produce2Image} alt={`here`} />;
        case 'small-yellow-tree':
            return <img src={SmallYellowTreeImage} alt={`here`} />;
        case 'statue_u':
            return <img src={StatueU} alt={`statue`} />;
        case 'statue_b':
            return <img src={StatueB} alt={`statue`} />;
        case 'flower':
            return <img src={FlowerImage} alt={`flower`} />;
        case 'tower-01':
            return <img src={TOWER_01} alt={`tower`} />;
        case 'tower-02':
            return <img src={TOWER_02} alt={`tower`} />;
        case 'tower-03':
            return <img src={TOWER_03} alt={`tower`} />;
        case 'tower-04':
            return <img src={TOWER_04} alt={`tower`} />;
        case 'tower-05':
            return <img src={TOWER_05} alt={`tower`} />;
        case 'tower-06':
            return <img src={TOWER_06} alt={`tower`} />;
        case 'tower-07':
            return <img src={TOWER_07} alt={`tower`} />;
        case 'tower-08':
            return <img src={TOWER_08} alt={`tower`} />;
        case 'tower-09':
            return <img src={TOWER_09} alt={`tower`} />;
        case 'tower-10':
            return <img src={TOWER_10} alt={`tower`} />;
        case 'tower-11':
            return <img src={TOWER_11} alt={`tower`} />;
        case 'tower-12':
            return <img src={TOWER_12} alt={`tower`} />;
        case 'tower-13':
            return <img src={TOWER_13} alt={`tower`} />;
        case 'tower-14':
            return <img src={TOWER_14} alt={`tower`} />;
        case 'tower-15':
            return <img src={TOWER_15} alt={`tower`} />;
        case 'tower-16':
            return <img src={TOWER_16} alt={`tower`} />;
        case 'tower-17':
            return <img src={TOWER_17} alt={`tower`} />;
        case 'tower-18':
            return <img src={TOWER_18} alt={`tower`} />;
        case 'tower-19':
            return <img src={TOWER_19} alt={`tower`} />;
        case 'tower-20':
            return <img src={TOWER_20} alt={`tower`} />;
        case 'tower-21':
            return <img src={TOWER_21} alt={`tower`} />;
        case 'tower-22':
            return <img src={TOWER_22} alt={`tower`} />;
        case 'tower-23':
            return <img src={TOWER_23} alt={`tower`} />;
        case 'tower-24':
            return <img src={TOWER_24} alt={`tower`} />;
        case 'tower-25':
            return <img src={TOWER_25} alt={`tower`} />;
        case 'tower-26':
            return <img src={TOWER_26} alt={`tower`} />;
        case 'tower-27':
            return <img src={TOWER_27} alt={`tower`} />;
        case 'tower-28':
            return <img src={TOWER_28} alt={`tower`} />;
        case 'tower-29':
            return <img src={TOWER_29} alt={`tower`} />;
        case 'tower-30':
            return <img src={TOWER_30} alt={`tower`} />;
        case 'tower-31':
            return <img src={TOWER_31} alt={`tower`} />;
        case 'tower-32':
            return <img src={TOWER_32} alt={`tower`} />;
        case 'tower-33':
            return <img src={TOWER_33} alt={`tower`} />;
        case 'bottom-right-water-overlay':
            return <img src={BottomRightWaterOverlayImage} alt={`water`} />;
        case 'bottom-water-overlay':
            return <img src={BottomWaterOverlayImage} alt={`water`} />;
        case 'picture-01':
            return <img src={PICTURE_01} alt={`picture`} />;
        case 'picture-02':
            return <img src={PICTURE_02} alt={`picture`} />;
        case 'picture-03':
            return <img src={PICTURE_03} alt={`picture`} />;
        case 'candalabra-01':
            return <img src={CANDALABRA_01} alt={`candalabra`} />;
        case 'candalabra-02':
            return <img src={CANDALABRA_02} alt={`candalabra`} />;
        case 'candalabra-03':
            return <img src={CANDALABRA_03} alt={`candalabra`} />;
        case 'window-u':
            return <img src={WINDOW_U} alt={`here`} />;
        case 'window-b':
            return <img src={WINDOW_B} alt={`here`} />;
        case 'planter':
            return <img src={PlanterImage} alt={`here`} />;
    }

    return <span/>;
}